{"ast":null,"code":"var _jsxFileName = \"/Users/val/Desktop/PROGM/meta-smart-front/src/Components/Pages/Landing/SetupDepositPopUp/SetupDepositPopUp.tsx\",\n  _s = $RefreshSig$();\nimport './index.scss';\nimport React, { useState, useEffect } from \"react\";\nimport CloseBtn from \"../../../SvgIcon/CloseBtn\";\nimport InfoTooltip from \"../../../UI/InfoTooltip\";\nimport classNames from \"classnames\";\nimport { showModal } from \"../../../../services/modals\";\nimport { PoolType } from \"../StakingPools/StakingPools\";\nimport { formatEther } from \"ethers/lib/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SetupDepositPopUp = props => {\n  _s();\n  const [rangeStepSmall, setRangeStepSmall] = useState('1');\n  const [rangeStep, setRangeStep] = useState('1');\n  const [period, setPeriod] = useState('60');\n  const [amount, setAmount] = useState('');\n  const [allowance, setAllowance] = useState('');\n  const [approved, setApproved] = useState(false);\n  const [confirmed, setConfirmed] = useState(false);\n  useEffect(() => {\n    const checkAllowance = async () => {\n      const allowance = await props.wallet.allowance(props.wallet.account, props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND ? props.poolsTvl[3] : props.poolsTvl[props.type], props.compound);\n      setAllowance(allowance.toString());\n      if (Number(allowance.toString()) >= Number(amount)) {\n        setApproved(true);\n      }\n    };\n    checkAllowance();\n  }, [props.wallet, props.type, props.poolsTvl, props.compound, amount]);\n  useEffect(() => {\n    let subscribed = true;\n    const checkConfirmation = async hash => {\n      if (!subscribed) return;\n      const receipt = await props.wallet.provider.getTransactionReceipt(hash);\n      if (!receipt || !receipt.confirmations || receipt.confirmations < 1) {\n        return;\n      }\n      setConfirmed(true);\n    };\n    props.wallet.on('transactionHash', checkConfirmation);\n    return () => {\n      subscribed = false;\n      props.wallet.off('transactionHash', checkConfirmation);\n    };\n  }, [props.wallet]);\n  const disabled = !approved || !confirmed || (props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND ? Number(amount) < 10000 || Number(amount) > 30000 : Number(amount) < 100 || Number(amount) > 10000) || Number(amount) > Number(props.balance);\n  const rangeSmall = () => {\n    const handleChangeRange = value => {\n      switch (value) {\n        case '1':\n          setPeriod('60');\n          break;\n        case '2':\n          setPeriod('120');\n          break;\n        case '3':\n          setPeriod('150');\n          break;\n      }\n      setRangeStepSmall(value);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'ui-range-small',\n      children: [rangeStepSmall !== '1' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range-small__marker1'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range-small__marker2'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), rangeStepSmall !== '3' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range-small__marker3'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-range-small__labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"8%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"10%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"12%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'range',\n        step: 1,\n        min: 1,\n        max: 3,\n        value: rangeStepSmall,\n        onChange: e => handleChangeRange(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-range-small__labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"60\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"120\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStepSmall !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"150\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  };\n  const range = () => {\n    const handleChangeRange = value => {\n      switch (value) {\n        case '1':\n          setPeriod('60');\n          break;\n        case '2':\n          setPeriod('90');\n          break;\n        case '3':\n          setPeriod('150');\n          break;\n        case '4':\n          setPeriod('240');\n          break;\n      }\n      setRangeStep(value);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'ui-range',\n      children: [rangeStep !== '1' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range__marker1'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range__marker2'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range__marker3'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), rangeStep !== '4' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ui-range__marker4'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-range__labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"12%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"15%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"20%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '4' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"20%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'range',\n        step: 1,\n        min: 1,\n        max: 4,\n        value: rangeStep,\n        onChange: e => handleChangeRange(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-range__labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"60\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"90\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"150\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: rangeStep !== '4' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n          },\n          children: \"240\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this);\n  };\n  const handleClose = () => {\n    showModal({\n      type: '',\n      props: {}\n    });\n  };\n  const checkAllowance = () => {\n    const a = Number(allowance) >= Number(amount);\n    return a;\n  };\n  const stakeMS = async () => {\n    await props.wallet.stakeTokens(props.type, amount, period);\n  };\n  const setA = async () => {\n    try {\n      const _allowance = await props.wallet.getMSAllowance();\n      setAllowance(_allowance);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const approveMS = async () => {\n    const tx = await props.wallet.approve(props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND ? props.poolsTvl[3] : props.poolsTvl[props.type], amount, props.compound);\n    setApproved(false);\n    setConfirmed(false);\n    await tx.wait();\n  };\n  const handleChangeAmount = e => {\n    setAmount(e.target.value);\n    setA();\n  };\n  const handleMax = (type, amount) => {\n    if (props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND) {\n      if (Number(amount) < 10000 || Number(amount) > 30000) {\n        setAmount(Math.min(Math.max(Number(amount), 10000), 30000).toFixed(0).toString());\n      }\n    } else {\n      if (Number(amount) < 100 || Number(amount) > 10000) {\n        setAmount(Math.min(Math.max(Number(amount), 100), 10000).toFixed(0).toString());\n      }\n    }\n    setAmount(Number(amount).toFixed(0).toString());\n  };\n  const minMaxPlaceholder = props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND ? 'мин. 10 000 макс. 30 000' : 'мин. 100 макс. 10 000';\n  const tooltip = props.type === PoolType.MEDIUM_AUTO_COMPOUND || props.type === PoolType.TURBO_AUTO_COMPOUND ? 'Сбор наград возможен только по истечении срока инвестиции' : 'Сбор наград возможен в любое время';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'deposit-popup',\n    ref: props.propRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'deposit-popup__container',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'deposit-popup__closeBtn',\n        onClick: handleClose,\n        children: /*#__PURE__*/_jsxDEV(CloseBtn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 82\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'deposit-popup__wrapper',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'deposit-popup__info',\n          children: [/*#__PURE__*/_jsxDEV(InfoTooltip, {\n            text: tooltip,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: props.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), props.compound && /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"compound\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"TVL: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", Number(formatEther(props.poolsTvl[props.type])).toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'deposit-popup__deposit',\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0414\\u0435\\u043F\\u043E\\u0437\\u0438\\u0442 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'deposit-popup__deposit-input',\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'number',\n              placeholder: minMaxPlaceholder,\n              value: amount,\n              onChange: e => handleChangeAmount(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'deposit-popup__deposit-balance',\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"balance:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: Number(props.balance).toFixed(0) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleMax(props.type, props.balance),\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 90\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'deposit-popup__income',\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0414\\u043E\\u0445\\u043E\\u0434 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"(\\u0434\\u043D\\u0435\\u0439)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 30\n            }, this), \" \\u0421\\u0440\\u043E\\u043A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'deposit-popup__income-range',\n            children: [(props.type === PoolType.TURBO_AUTO_COMPOUND || props.type === PoolType.TURBO) && range(), (props.type === PoolType.MEDIUM || props.type === PoolType.MEDIUM_AUTO_COMPOUND) && rangeSmall()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'deposit-popup__btn',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classNames({\n              'ui-button-v2': true,\n              'ui-button-v2--big': true,\n              'ui-button-v2--disabled': disabled\n            }),\n            onClick: () => !disabled && approveMS(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'deposit-popup__btn',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classNames({\n              'ui-button-v2': true,\n              'ui-button-v2--big': true,\n              'ui-button-v2--disabled': disabled || !checkAllowance()\n            }),\n            onClick: () => !disabled && checkAllowance() && stakeMS(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 9\n  }, this);\n};\n_s(SetupDepositPopUp, \"Y9Vqq+2PW2tUiZME2FelokSrc6Q=\");\n_c = SetupDepositPopUp;\nexport default SetupDepositPopUp;\nvar _c;\n$RefreshReg$(_c, \"SetupDepositPopUp\");","map":{"version":3,"names":["React","useState","useEffect","CloseBtn","InfoTooltip","classNames","showModal","PoolType","formatEther","jsxDEV","_jsxDEV","SetupDepositPopUp","props","_s","rangeStepSmall","setRangeStepSmall","rangeStep","setRangeStep","period","setPeriod","amount","setAmount","allowance","setAllowance","approved","setApproved","confirmed","setConfirmed","checkAllowance","wallet","account","type","TURBO","TURBO_AUTO_COMPOUND","poolsTvl","compound","toString","Number","subscribed","checkConfirmation","hash","receipt","provider","getTransactionReceipt","confirmations","on","off","disabled","balance","rangeSmall","handleChangeRange","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","step","min","max","onChange","e","target","range","handleClose","a","stakeMS","stakeTokens","setA","_allowance","getMSAllowance","console","error","approveMS","tx","approve","wait","handleChangeAmount","handleMax","Math","toFixed","minMaxPlaceholder","tooltip","MEDIUM_AUTO_COMPOUND","ref","propRef","onClick","text","title","placeholder","MEDIUM","_c","$RefreshReg$"],"sources":["/Users/val/Desktop/PROGM/meta-smart-front/src/Components/Pages/Landing/SetupDepositPopUp/SetupDepositPopUp.tsx"],"sourcesContent":["import './index.scss'\nimport React, {useState, useEffect} from \"react\";\nimport CloseBtn from \"../../../SvgIcon/CloseBtn\";\nimport InfoTooltip from \"../../../UI/InfoTooltip\";\nimport classNames from \"classnames\";\nimport {showModal} from \"../../../../services/modals\";\nimport {PoolType} from \"../StakingPools/StakingPools\";\nimport {formatEther} from \"ethers/lib/utils\";\n\ninterface ISetupDepositPopUp {\n    wallet: any, \n    stake: (type: PoolType, amount: string, period: string) => void,\n    title: string,\n    compound: boolean,\n    type: PoolType,\n    imgUrl: string,\n    balance: string,\n    poolsTvl: Array<bigint>\n    propRef: any\n}\n\n\n\nconst SetupDepositPopUp: React.FC<ISetupDepositPopUp> = (props) => {\n    const [rangeStepSmall, setRangeStepSmall] = useState('1')\n    const [rangeStep, setRangeStep] = useState('1')\n    const [period, setPeriod] = useState('60')\n    const [amount, setAmount] = useState('')\n    const [allowance, setAllowance] = useState('')\n    \n\n    \n\n    const [approved, setApproved] = useState(false);\n    const [confirmed, setConfirmed] = useState(false);\n\n    useEffect(() => {\n        const checkAllowance = async () => {\n            const allowance = await props.wallet.allowance(\n                props.wallet.account,\n                props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND\n                    ? props.poolsTvl[3]\n                    : props.poolsTvl[props.type],\n                props.compound\n            );\n    \n            setAllowance(allowance.toString());\n    \n            if (Number(allowance.toString()) >= Number(amount)) {\n                setApproved(true);\n            }\n        };\n        checkAllowance();\n    }, [props.wallet, props.type, props.poolsTvl, props.compound, amount]);\n\n    useEffect(() => {\n        let subscribed = true;\n        const checkConfirmation = async (hash: string) => {\n            if (!subscribed) return;\n            const receipt = await props.wallet.provider.getTransactionReceipt(hash);\n            if (!receipt || !receipt.confirmations || receipt.confirmations < 1) {\n                return;\n            }\n    \n            setConfirmed(true);\n        };\n\n        \n    \n        props.wallet.on('transactionHash', checkConfirmation);\n    \n        return () => {\n            subscribed = false;\n            props.wallet.off('transactionHash', checkConfirmation);\n        };\n    }, [props.wallet]);\n\n    const disabled = !approved || !confirmed || (props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND\n        ? (Number(amount) < 10000 || Number(amount) > 30000)\n        : (Number(amount) < 100 || Number(amount) > 10000))\n        || Number(amount) > Number(props.balance);\n\n    const rangeSmall = () => {\n        const handleChangeRange = (value: string) => {\n            switch (value) {\n                case '1':\n                    setPeriod('60')\n                    break\n\n                case '2':\n                    setPeriod('120')\n                    break\n\n                case '3':\n                    setPeriod('150')\n                    break\n            }\n            setRangeStepSmall(value)\n        }\n        return (\n            <div className={'ui-range-small'}>\n                {rangeStepSmall !== '1' && <div className={'ui-range-small__marker1'}/>}\n                <div className={'ui-range-small__marker2'}/>\n                {rangeStepSmall !== '3' && <div className={'ui-range-small__marker3'}/>}\n                <div className=\"ui-range-small__labels\">\n                    <p style={{\n                        color: rangeStepSmall !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>8%</p>\n                    <p style={{\n                        color: rangeStepSmall !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>10%</p>\n                    <p style={{\n                        color: rangeStepSmall !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>12%</p>\n                </div>\n                <input type={'range'} step={1} min={1} max={3} value={rangeStepSmall}\n                       onChange={(e) => handleChangeRange(e.target.value)}/>\n                <div className=\"ui-range-small__labels\">\n                    <p style={{\n                        color: rangeStepSmall !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>60</p>\n                    <p style={{\n                        color: rangeStepSmall !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>120</p>\n                    <p style={{\n                        color: rangeStepSmall !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>150</p>\n                </div>\n            </div>\n        )\n    }\n\n    const range = () => {\n        const handleChangeRange = (value: string) => {\n            switch (value) {\n                case '1':\n                    setPeriod('60')\n                    break\n\n                case '2':\n                    setPeriod('90')\n                    break\n\n                case '3':\n                    setPeriod('150')\n                    break\n\n                case '4':\n                    setPeriod('240')\n                    break\n            }\n            setRangeStep(value)\n        }\n        return (\n            <div className={'ui-range'}>\n                {rangeStep !== '1' && <div className={'ui-range__marker1'}/>}\n                <div className={'ui-range__marker2'}/>\n                <div className={'ui-range__marker3'}/>\n                {rangeStep !== '4' && <div className={'ui-range__marker4'}/>}\n\n                <div className=\"ui-range__labels\">\n                    <p style={{\n                        color: rangeStep !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>12%</p>\n                    <p style={{\n                        color: rangeStep !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>15%</p>\n                    <p style={{\n                        color: rangeStep !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>20%</p>\n                    <p style={{\n                        color: rangeStep !== '4' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>20%</p>\n                </div>\n                <input type={'range'} step={1} min={1} max={4} value={rangeStep}\n                       onChange={(e) => handleChangeRange(e.target.value)}/>\n                <div className=\"ui-range__labels\">\n                    <p style={{\n                        color: rangeStep !== '1' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>60</p>\n                    <p style={{\n                        color: rangeStep !== '2' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>90</p>\n                    <p style={{\n                        color: rangeStep !== '3' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>150</p>\n                    <p style={{\n                        color: rangeStep !== '4' ? 'rgba(255, 255, 255, 0.4)' : '#ffffff'\n                    }}>240</p>\n                </div>\n            </div>\n        )\n    }\n\n    const handleClose = () => {\n        showModal({type: '', props: {}})\n    }\n\n    const checkAllowance = () => {\n        const a = Number(allowance) >= Number(amount);        \n        return a;   \n    }\n\n    const stakeMS = async() => {\n        await props.wallet.stakeTokens(props.type, amount, period);\n    } \n\n    const setA = async () => {\n        try {\n            const _allowance = await props.wallet.getMSAllowance();\n            setAllowance(_allowance);\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const approveMS = async() => {\n       const tx = await props.wallet.approve(\n        props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND\n            ? props.poolsTvl[3]\n            : props.poolsTvl[props.type],\n        amount,\n        props.compound\n    );\n\n    setApproved(false);\n    setConfirmed(false);\n\n    await tx.wait();\n    }\n\n    const handleChangeAmount = (e: any) => {\n        setAmount(e.target.value);\n        setA();\n    }\n\n    const handleMax = (type: PoolType, amount: string) => {\n        if (props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND) {\n            if (Number(amount) < 10000 || Number(amount) > 30000) {\n                setAmount(Math.min(Math.max(Number(amount), 10000), 30000).toFixed(0).toString());\n            }\n        } else {\n            if (Number(amount) < 100 || Number(amount) > 10000) {\n                setAmount(Math.min(Math.max(Number(amount), 100), 10000).toFixed(0).toString());\n            }\n        }\n        setAmount(Number(amount).toFixed(0).toString());\n    }\n\n    const minMaxPlaceholder = props.type === PoolType.TURBO || props.type === PoolType.TURBO_AUTO_COMPOUND ? 'мин. 10 000 макс. 30 000' : 'мин. 100 макс. 10 000'\n    const tooltip = props.type === PoolType.MEDIUM_AUTO_COMPOUND || props.type === PoolType.TURBO_AUTO_COMPOUND ? 'Сбор наград возможен только по истечении срока инвестиции' : 'Сбор наград возможен в любое время'\n    return (\n        <div className={'deposit-popup'} ref={props.propRef}>\n            <div className={'deposit-popup__container'}>\n                <div className={'deposit-popup__closeBtn'} onClick={handleClose}><CloseBtn/>\n                </div>\n                <div className={'deposit-popup__wrapper'}>\n                    <div className={'deposit-popup__info'}>\n                        <InfoTooltip text={tooltip}>\n                            <h1>{props.title}</h1>\n                        </InfoTooltip>\n                        {props.compound && <h2>compound</h2>}\n                        <p>TVL: <span>${Number(formatEther(props.poolsTvl[props.type])).toFixed(0)}</span></p>\n                    </div>\n                    <div className={'deposit-popup__deposit'}>\n                        <h1>Депозит </h1>\n                        <div className={'deposit-popup__deposit-input'}>\n                            <input type={'number'} placeholder={minMaxPlaceholder} value={amount}\n                                   onChange={e => handleChangeAmount(e)}/>\n                        </div>\n                        <div className={'deposit-popup__deposit-balance'}>\n                            <p>balance:<span>{Number(props.balance).toFixed(0) || 0}</span></p>\n                            <button onClick={() => handleMax(props.type, props.balance)}><p>max</p></button>\n                        </div>\n                    </div>\n                    <div className={'deposit-popup__income'}>\n                        <h1>Доход </h1>\n                        <h2> <span>(дней)</span> Срок</h2>\n                        <div className={'deposit-popup__income-range'}>\n                            {(props.type === PoolType.TURBO_AUTO_COMPOUND || props.type === PoolType.TURBO) && range()}\n                            {(props.type === PoolType.MEDIUM || props.type === PoolType.MEDIUM_AUTO_COMPOUND) && rangeSmall()}\n                        </div>\n                    </div>\n                    {/*  <div className={'deposit-popup__referral'}>\n                        <InfoTooltip text={''}>\n                            <p>Реферальный код</p>\n                        </InfoTooltip>\n                        <div className={'deposit-popup__referral-input'}>\n                            <input placeholder={'00000000'} />\n                        </div>\n                    </div>*/}\n                    <div className={'deposit-popup__btn'}>\n                        <div className={classNames({\n                            'ui-button-v2': true,\n                            'ui-button-v2--big': true,\n                            'ui-button-v2--disabled': disabled\n                        })}\n                             onClick={() => !disabled && approveMS()}\n                        >\n                            <p>Одобрить</p>\n                        </div>\n                    </div>\n                    <div className={'deposit-popup__btn'}>\n                        <div className={classNames({\n                            'ui-button-v2': true,\n                            'ui-button-v2--big': true,\n                            'ui-button-v2--disabled': disabled || !checkAllowance()\n                        })}\n                             onClick={() => !disabled && checkAllowance() && stakeMS() }\n                        >\n                            <p>Купить</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SetupDepositPopUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}